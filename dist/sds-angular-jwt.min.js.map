{"version":3,"sources":["sds-angular-jwt.js"],"names":["angular","module","config","$httpProvider","interceptors","push","run","$q","$location","$rootScope","authService","authProvider","redirectNoAccess","newRoute","event","preventDefault","previousLocation","path","securityCheck","authentication","isAuth","postLogInRoute","url","$$route","hasAccess","auth","permissionLookup","data","params","templateUrl","loginUrl","replace","$on","currRoute","authInterceptorService","$timeout","$injector","authInterceptorServiceFactory","_request","get","headers","Authorization","token","onLoadStart","_response","response","onLoadEnd","success","_requestError","request","console","log","_isLoginOrRegistrationPath","indexOf","_responseError","rejection","status","useRefreshTokens","refreshToken","then","reload","logOut","notFoundUrl","message","error","reject","requestError","responseError","$inject","factory","AuthProvider","self","this","permission","user","su","idx","roles","map","r","tenant_id","parseInt","tenantId","permissions","access","tokenUrl","refreshUrl","localization","errorTitle","errorEmail","errorPassword","errorPasswordMatch","errorConfirm","errorForgotPassword","errorLogin","errorLoginRejected","errorRegister","errorResetPassword","successForgotPasswordTitle","successForgotPassword","successRegisterTitle","successRegister","successResetPasswordTitle","successResetPassword","forgotPasswordText","loginPage","submit","login","email","password","confirm","$get","setRoutes","obj","setLocalization","extend","setOnLoadStart","fn","Error","setOnLoadEnd","setPermissionLookup","lookupPermission","setLoginUrl","setNotFoundUrl","setRefreshUrl","setTokenUrl","provider","$log","jwtHelper","$window","_clearLocalStorage","useRefreshToken","localStorage","removeItem","_processResponse","resolve","refresh_token","decodeToken","$broadcast","err","loginData","post","logOffUser","defer","info","undefined","userId","deleteToken","promise","deleteTokenUri","id","allowed","fillAuthData","authForgotPasswordDirective","restrict","scope","redirectUrl","onSubmit","link","$scope","$element","$attrs","vm","loc","form","$valid","when","directive","authLoginDirective","onLogin","authRegisterDirective","key","hasOwnProperty","$modelValue","authResetPasswordDirective","confirmPassword","copy","$templateCache","put"],"mappings":"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","file":"sds-angular-jwt.min.js"}