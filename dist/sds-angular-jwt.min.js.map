{"version":3,"sources":["sds-angular-jwt.js"],"names":["angular","module","config","$httpProvider","interceptors","push","run","$q","$location","$rootScope","authService","authProvider","redirectNoAccess","newRoute","event","preventDefault","previousLocation","path","securityCheck","authentication","isAuth","postLogInRoute","url","$$route","hasAccess","auth","permissionLookup","data","params","templateUrl","loginUrl","replace","$on","currRoute","authInterceptorService","$timeout","$injector","authInterceptorServiceFactory","_request","get","headers","Authorization","token","onLoadStart","_response","response","onLoadEnd","success","_requestError","request","console","log","_isLoginOrRegistrationPath","indexOf","_responseError","rejection","status","useRefreshTokens","refreshToken","then","reload","logOut","notFoundUrl","message","error","reject","requestError","responseError","$inject","factory","AuthProvider","self","this","permission","user","su","idx","roles","map","r","tenant_id","parseInt","tenantId","permissions","access","tokenUrl","refreshUrl","localization","errorTitle","errorEmail","errorPassword","errorPasswordMatch","errorConfirm","errorForgotPassword","errorLogin","errorLoginRejected","errorRegister","errorResetPassword","successForgotPasswordTitle","successForgotPassword","successRegisterTitle","successRegister","successResetPasswordTitle","successResetPassword","loginPage","submit","login","email","password","confirm","$get","setRoutes","obj","setLocalization","extend","setOnLoadStart","fn","Error","setOnLoadEnd","setPermissionLookup","lookupPermission","setLoginUrl","setNotFoundUrl","setRefreshUrl","setTokenUrl","provider","$log","jwtHelper","$window","_clearLocalStorage","useRefreshToken","localStorage","removeItem","_processResponse","resolve","refresh_token","decodeToken","$broadcast","err","loginData","post","logOffUser","defer","info","undefined","userId","deleteToken","promise","deleteTokenUri","id","allowed","fillAuthData","authForgotPasswordDirective","restrict","scope","redirectUrl","onSubmit","link","$scope","$element","$attrs","vm","loc","form","$valid","when","directive","authLoginDirective","onLogin","authRegisterDirective","key","hasOwnProperty","$modelValue","authResetPasswordDirective","confirmPassword","copy","$templateCache","put"],"mappings":"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","file":"sds-angular-jwt.min.js"}