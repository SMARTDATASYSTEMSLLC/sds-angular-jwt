{"version":3,"sources":["sds-angular-jwt.js"],"names":["angular","module","config","$httpProvider","interceptors","push","run","$q","$location","$rootScope","authService","authConfig","redirectNoAccess","event","preventDefault","previousLocation","path","securityCheck","newRoute","params","authentication","isAuth","postLogInRoute","url","hasAccess","auth","permissionLookup","data","templateUrl","redirectTo","loginUrl","replace","$on","currRoute","$$route","toState","toParams","authInterceptorService","$timeout","$injector","authInterceptorServiceFactory","_request","get","headers","Authorization","token","onLoadStart","_response","response","onLoadEnd","success","_requestError","request","console","log","_isLoginOrRegistrationPath","indexOf","_responseError","rejection","status","useRefreshTokens","refreshToken","then","reload","logOut","notFoundUrl","message","error","reject","requestError","responseError","$inject","factory","AuthConfigProvider","self","this","formatLoginParams","permission","user","roles","su","idx","map","r","tenant_id","parseInt","tenantId","permissions","access","tokenUrl","refreshUrl","localization","errorTitle","errorEmail","errorPassword","errorPasswordMatch","errorConfirm","errorForgotPassword","errorLogin","errorLoginRejected","errorRegister","errorResetPassword","successForgotPasswordTitle","successForgotPassword","successRegisterTitle","successRegister","successResetPasswordTitle","successResetPassword","forgotPasswordText","loginPage","submit","login","email","password","confirm","$get","setFormatLoginParams","obj","setRoutes","setLocalization","extend","setOnLoadStart","fn","Error","setOnLoadEnd","setPermissionLookup","setLoginUrl","setNotFoundUrl","setRefreshUrl","setTokenUrl","provider","$log","jwtHelper","$window","_clearLocalStorage","useRefreshToken","localStorage","removeItem","_processResponse","resolve","access_token","refresh_token","responseData","decodeToken","$broadcast","err","loginData","post","$","param","Content-Type","logOffUser","defer","info","undefined","userId","deleteToken","promise","deleteTokenUri","id","allowed","authData","fillAuthData","authForgotPasswordDirective","restrict","transclude","scope","redirectUrl","onSubmit","link","$scope","$element","$attrs","vm","loc","isLoginPage","form","$valid","when","directive","authLoginDirective","onLogin","authRegisterDirective","key","hasOwnProperty","$modelValue","authResetPasswordDirective","confirmPassword","copy","$templateCache","put"],"mappings":"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","file":"sds-angular-jwt.min.js"}