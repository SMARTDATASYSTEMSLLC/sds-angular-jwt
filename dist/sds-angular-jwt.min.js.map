{"version":3,"sources":["sds-angular-jwt.js"],"names":["angular","module","config","$httpProvider","interceptors","push","run","$q","$location","$rootScope","authService","authConfig","redirectNoAccess","event","preventDefault","previousLocation","path","securityCheck","newRoute","params","authentication","isAuth","postLogInRoute","url","hasAccess","auth","permissionLookup","data","templateUrl","redirectTo","loginUrl","replace","$on","currRoute","$$route","toState","toParams","authInterceptorService","$timeout","$injector","authInterceptorServiceFactory","_request","get","headers","Authorization","token","onLoadStart","_response","response","onLoadEnd","success","_requestError","request","console","log","_isLoginOrRegistrationPath","indexOf","_responseError","rejection","status","useRefreshTokens","refreshToken","then","reload","logOut","notFoundUrl","message","error","reject","requestError","responseError","$inject","factory","AuthConfigProvider","self","this","formatLoginParams","permission","user","roles","su","idx","map","r","tenant_id","parseInt","tenantId","permissions","access","tokenUrl","refreshUrl","localization","errorTitle","errorEmail","errorPassword","errorPasswordMatch","errorConfirm","errorForgotPassword","errorLogin","errorLoginRejected","errorRegister","errorResetPassword","successForgotPasswordTitle","successForgotPassword","successRegisterTitle","successRegister","successResetPasswordTitle","successResetPassword","forgotPasswordText","loginPage","submit","login","email","password","confirm","$get","setFormatLoginParams","obj","setRoutes","setLocalization","extend","setOnLoadStart","fn","Error","setOnLoadEnd","setPermissionLookup","lookupPermission","setLoginUrl","setNotFoundUrl","setRefreshUrl","setTokenUrl","provider","$log","jwtHelper","$window","_clearLocalStorage","useRefreshToken","localStorage","removeItem","_processResponse","resolve","access_token","refresh_token","responseData","decodeToken","$broadcast","err","loginData","post","$","param","Content-Type","logOffUser","defer","info","undefined","userId","deleteToken","promise","deleteTokenUri","id","allowed","authData","fillAuthData","authForgotPasswordDirective","restrict","transclude","scope","redirectUrl","onSubmit","link","$scope","$element","$attrs","vm","loc","form","$valid","when","directive","authLoginDirective","onLogin","authRegisterDirective","key","hasOwnProperty","$modelValue","authResetPasswordDirective","confirmPassword","copy","$templateCache","put"],"mappings":"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","file":"sds-angular-jwt.min.js"}